<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Gaming Club</title>
    <link rel="stylesheet" href="Style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <script src="index.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="wrapper">
      <header>
        <nav class="nav">
          <div class="container">
            <div class="logo">
              <a href="#">GAMING CLUB</a>
            </div>
            <div id="mainListDiv" class="main_list">
              <ul class="navlinks">
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Tournament</a></li>
                <li><a href="#">Gallery</a></li>
                <li><a href="#">Contact</a></li>
              </ul>
            </div>
            <span class="navTrigger">
              <i></i>
              <i></i>
              <i></i>
            </span>
          </div>
        </nav>

        <img src="Source/Images/background.jpg" class="background" />
        <img src="" alt="" class="background" />
        <img src="Source/Images/foreground.png" class="foreground" />
      </header>

      <div class="about-section">
        <p id="intro">ABOUT US</p>
        <!-- <p id="heading">Welcome to College Games Competition </p> -->
        <p class="text">
          Welcome to Campus Battlezone, the premier platform for college gaming
          tournaments! Whether you're a seasoned gamer or a newcomer looking to
          make your mark, our site offers thrilling competitions tailored for
          students. Connect with fellow gamers from campuses nationwide, form
          teams, and engage in epic battles across various games. Stay updated
          with tournament schedules, real-time leaderboards, and exciting
          rewards. Join us at Campus Battlezone, where every match brings you
          one step closer to glory!
        </p>
      </div>
      <p id="intro">GAMES</p>
      <div class="app-body">
        <div class="app">
          <div class="cardList">
            <button class="cardList__btn btn btn--left">
              <div class="icon">
                <svg><use xlink:href="#arrow-left"></use></svg>
              </div>
            </button>
            <div class="cards__wrapper">
              <div class="card current--card">
                <div class="card__image">
                  <video
                    src="Source/Video/bgmiff.mp4"
                    autoplay
                    muted
                    loop
                  ></video>
                </div>
              </div>

              <div class="card next--card">
                <div class="card__image">
                  <video src="Source/Video/ff.mp4" autoplay muted loop></video>
                </div>
              </div>
              <div class="card previous--card">
                <div class="card__image">
                  <video
                    src="Source/Video/bgmif.mp4"
                    autoplay
                    muted
                    loop
                  ></video>
                </div>
              </div>
            </div>
            <button class="cardList__btn btn btn--right">
              <div class="icon">
                <svg><use xlink:href="#arrow-right"></use></svg>
              </div>
            </button>
          </div>
          <div class="infoList">
            <div class="info__wrapper">
              <div class="info current--info">
                <img src="Source/logo/bgmi.png" alt="" class="logos hidden" />
                <p class="text description">Let the Adventure Begin!</p>
              </div>
              <div class="info next--info">
                <img src="Source/logo/ff.png" alt="" class="logos hidden" />
                <p class="text description">Where every shot counts</p>
              </div>
              <div class="info previous--info">
                <img
                  src="Source/logo/valorant.png"
                  style="filter: invert(1)"
                  alt=""
                  class="logos hidden"
                />
                <p class="text description">Defy the Limits</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <svg class="icons" style="display: none">
        <symbol
          id="arrow-left"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <polyline
            points="328 112 184 256 328 400"
            style="
              fill: none;
              stroke: #fff;
              stroke-linecap: round;
              stroke-linejoin: round;
              stroke-width: 48px;
            "
          />
        </symbol>
        <symbol
          id="arrow-right"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <polyline
            points="184 112 328 256 184 400"
            style="
              fill: none;
              stroke: #fff;
              stroke-linecap: round;
              stroke-linejoin: round;
              stroke-width: 48px;
            "
          />
        </symbol>
      </svg>
      <div class="tour">
        <p>TOURNAMENT</p>
      </div>
      <div class="scroll">
        <div class="parallax2">
          <img src="/Source/Images/layer1.png" class="mount2" />
          <!--middle-->

          <img src="/Source/Images/layer2.png" class="bush1" />
          <!-- last-->
          <img src="/Source/Images/fuck.png" class="bush2" />
          <!--first-->

          <div class="AboutT">
            <p>
              Lorem ipsum dolor sit amet consectetur, adipisicing elit.
              Distinctio obcaecati mollitia delectus libero vitae doloribus
              velit necessitatibus impedit, labore voluptatibus. Lorem ipsum
              dolor sit amet, consectetur adipisicing elit. Dicta ea, molestiae
              aspernatur a iure natus expedita dignissimos impedit, debitis
              consectetur optio. Culpa nemo labore magni eos rem repellat
              commodi ducimus!Lorem
            </p>
            <br />
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit.
              Consectetur, obcaecati tempore? Incidunt sapiente blanditiis ex
              reprehenderit quas. Explicabo, dolor id.lorem
            </p>
            <br />
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum,
              ex! Ut sapiente ab sint. Blanditiis vitae voluptatum quos officiis
              culpa atque architecto id debitis laborum fugiat eligendi incidunt
              nisi iure, quis praesentium sequi! Cumque veritatis maiores
              distinctio, perspiciatis odio aliquid nulla odit? Asperiores fuga
              repudiandae id dolores illo velit numquam mollitia praesentium
              iusto impedit tenetur voluptates veritatis voluptatum facere
              incidunt sint provident, esse quas libero nisi nesciunt corporis
              explicabo similique possimus! Tempore ex consequuntur esse debitis
              odit veritatis eligendi. Saepe omnis perferendis officia molestiae
              iure placeat neque, aut cupiditate laboriosam voluptatum
              temporibus eligendi alias, error rem debitis sint consequatur
              reprehenderit.
            </p>
          </div>

        </div>
      </div>
      <div class="sec-form"> 
        <div class="empty">Conquer your rivals!</div>
        <div class="play">
          <div class="localplayer">
            <h3>Local multiplayer</h3>
            <p class="player">play with friends</p>
            <button id="register-btn">Register</button>

            <div id="form-container" style="display: none">
              <form>
                <label for="name">Name:</label>
                <input type="text" class="name" name="name" /><br /><br />
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" /><br /><br />
                <label for="password">Password:</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                /><br /><br />
                <input type="submit" value="Submit" />
              </form>
            </div>
          </div>
          <div class="multipleplayer">
            <h3>Online multiplayer</h3>
            <p class="player">play with random players</p>
            <button id="register-btn">Register</button>

            <div id="form-container" style="display: none">
              <form>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" /><br /><br />
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" /><br /><br />
                <label for="password">Password:</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                /><br /><br />
                <input type="submit" value="Submit" />
              </form>
            </div>
          </div>
        </div>
      </div> -->
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- <script src="js/scripts.js"></script> -->

    <script>
      const layer1 = document.querySelector(".bush1");
      const layer3 = document.querySelector(".mount2");
      const layer4 = document.querySelector(".bush2");
    
      console.log(layer1, layer3, layer4); // Check if elements are found
    
      document.addEventListener("scroll", () => {
        console.log("Scroll event triggered!"); // Check if event is triggered
        let value = window.scrollY;
        layer1.style.marginTop = -value * 4 + "px";
        layer3.style.marginTop = -value * 8 + "px";
        layer4.style.marginTop = -value * 3 + "px";
      });
    </script>
    <!-- Function used to shrink nav bar removing paddings and adding black background -->
    <script>
      const registerBtn = document.getElementById("register-btn");
      const formContainer = document.getElementById("form-container");

      registerBtn.addEventListener("click", () => {
        formContainer.style.display = "block";
      });

      $(window).scroll(function () {
        if ($(document).scrollTop() > 50) {
          $(".nav").addClass("affix");
          console.log("OK");
        } else {
          $(".nav").removeClass("affix");
        }
      });

      $(".navTrigger").click(function () {
        $(this).toggleClass("active");
        console.log("Clicked menu");
        $("#mainListDiv").toggleClass("show_list");
        $("#mainListDiv").fadeIn();
      });
    </script>

   

    <!-- js of card starts here -->
    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.3/gsap.min.js"></script>
    <script>
      console.clear();

      const { gsap, imagesLoaded } = window;

      const buttons = {
        prev: document.querySelector(".btn--left"),
        next: document.querySelector(".btn--right"),
      };

      const cardsContainerEl = document.querySelector(".cards__wrapper");
      const cardInfosContainerEl = document.querySelector(".info__wrapper");

      buttons.next.addEventListener("click", () => swapCards("right"));
      buttons.prev.addEventListener("click", () => swapCards("left"));

      function swapCards(direction) {
        const currentCardEl = cardsContainerEl.querySelector(".current--card");
        const previousCardEl =
          cardsContainerEl.querySelector(".previous--card");
        const nextCardEl = cardsContainerEl.querySelector(".next--card");

        changeInfo(direction);
        swapCardsClass();

        removeCardEvents(currentCardEl);

        function swapCardsClass() {
          currentCardEl.classList.remove("current--card");
          previousCardEl.classList.remove("previous--card");
          nextCardEl.classList.remove("next--card");

          if (direction === "right") {
            currentCardEl.classList.add("previous--card");
            previousCardEl.classList.add("next--card");
            nextCardEl.classList.add("current--card");
          } else if (direction === "left") {
            currentCardEl.classList.add("next--card");
            previousCardEl.classList.add("current--card");
            nextCardEl.classList.add("previous--card");
          }
        }
      }

      function changeInfo(direction) {
        let currentInfoEl =
          cardInfosContainerEl.querySelector(".current--info");
        let previousInfoEl =
          cardInfosContainerEl.querySelector(".previous--info");
        let nextInfoEl = cardInfosContainerEl.querySelector(".next--info");

        gsap
          .timeline()
          .to([buttons.prev, buttons.next], {
            duration: 0.2,
            opacity: 0.5,
            pointerEvents: "none",
          })
          .to(
            currentInfoEl.querySelectorAll(".text"),
            {
              duration: 0.4,
              stagger: 0.1,
              translateY: "-120px",
              opacity: 0,
            },
            "-="
          )
          .call(() => {
            swapInfosClass(direction);
          })
          .call(() => initCardEvents())
          .fromTo(
            direction === "right"
              ? nextInfoEl.querySelectorAll(".text")
              : previousInfoEl.querySelectorAll(".text"),
            {
              opacity: 0,
              translateY: "40px",
            },
            {
              duration: 0.4,
              stagger: 0.1,
              translateY: "0px",
              opacity: 1,
            }
          )
          .to([buttons.prev, buttons.next], {
            duration: 0.2,
            opacity: 1,
            pointerEvents: "all",
          });

        function swapInfosClass() {
          currentInfoEl.classList.remove("current--info");
          previousInfoEl.classList.remove("previous--info");
          nextInfoEl.classList.remove("next--info");

          if (direction === "right") {
            currentInfoEl.classList.add("previous--info");
            nextInfoEl.classList.add("current--info");
            previousInfoEl.classList.add("next--info");
          } else if (direction === "left") {
            currentInfoEl.classList.add("next--info");
            nextInfoEl.classList.add("previous--info");
            previousInfoEl.classList.add("current--info");
          }
        }
      }

      function updateCard(e) {
        const card = e.currentTarget;
        const box = card.getBoundingClientRect();
        const centerPosition = {
          x: box.left + box.width / 2,
          y: box.top + box.height / 2,
        };
        let angle = Math.atan2(e.pageX - centerPosition.x, 0) * (30 / Math.PI); // Decreased the rotation angle
        gsap.set(card, {
          "--current-card-rotation-offset": `${angle}deg`,
        });
        const currentInfoEl =
          cardInfosContainerEl.querySelector(".current--info");
        gsap.set(currentInfoEl, {
          rotateY: `${angle}deg`,
        });
      }
      function resetCardTransforms(e) {
        const card = e.currentTarget;
        const currentInfoEl =
          cardInfosContainerEl.querySelector(".current--info");
        gsap.set(card, {
          "--current-card-rotation-offset": 0,
        });
        gsap.set(currentInfoEl, {
          rotateY: 0,
        });
      }
      //
      const images = document.querySelectorAll(".hidden");

      setTimeout(function () {
        images.forEach(function (image) {
          image.classList.add("visible");
        });
      }, 2000);
      //
      function initCardEvents() {
        const currentCardEl = cardsContainerEl.querySelector(".current--card");
        currentCardEl.addEventListener("pointermove", updateCard);
        currentCardEl.addEventListener("pointerout", (e) => {
          resetCardTransforms(e);
        });
      }

      initCardEvents();

      function removeCardEvents(card) {
        card.removeEventListener("pointermove", updateCard);
      }

      function init() {
        let tl = gsap.timeline();

        tl.to(cardsContainerEl.children, {
          delay: 0.15,
          duration: 0.5,
          stagger: {
            ease: "power4.inOut",
            from: "right",
            amount: 0.1,
          },
          "--card-translateY-offset": "0%",
        })
          .to(
            cardInfosContainerEl
              .querySelector(".current--info")
              .querySelectorAll(".text"),
            {
              delay: 0.5,
              duration: 0.4,
              stagger: 0.1,
              opacity: 1,
              translateY: 0,
            }
          )
          .to(
            [buttons.prev, buttons.next],
            {
              duration: 0.4,
              opacity: 1,
              pointerEvents: "all",
            },
            "-=0.4"
          );
      }

      const waitForImages = () => {
        const images = [...document.querySelectorAll("img")];
        const totalImages = images.length;
        let loadedImages = 0;
        const loaderEl = document.querySelector(".loader span");

        gsap.set(cardsContainerEl.children, {
          "--card-translateY-offset": "100vh",
        });
        gsap.set(
          cardInfosContainerEl
            .querySelector(".current--info")
            .querySelectorAll(".text"),
          {
            translateY: "40px",
            opacity: 0,
          }
        );
        gsap.set([buttons.prev, buttons.next], {
          pointerEvents: "none",
          opacity: "0",
        });

        images.forEach((image) => {
          imagesLoaded(image, (instance) => {
            if (instance.isComplete) {
              loadedImages++;
              let loadProgress = loadedImages / totalImages;

              gsap.to(loaderEl, {
                duration: 1,
                scaleX: loadProgress,
                backgroundColor: "hsl(${loadProgress * 120}, 100%, 50%",
              });

              if (totalImages == loadedImages) {
                gsap
                  .timeline()
                  .to(".loading__wrapper", {
                    duration: 0.8,
                    opacity: 0,
                    pointerEvents: "none",
                  })
                  .call(() => init());
              }
            }
          });
        });
      };

      waitForImages();
    </script>
  </body>
</html>
